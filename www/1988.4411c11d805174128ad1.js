(self.webpackChunkLanka_Games=self.webpackChunkLanka_Games||[]).push([[1988],{1988:(i,e,n)=>{"use strict";n.r(e),n.d(e,{ModalChoosePageModule:()=>k});var t=n(8583),o=n(7823),s=n(1348),r=n(4762),a=n(1841),c=n(522),l=n(5798),d=n(8720),u=n(5921);function g(i,e){if(1&i&&(d.TgZ(0,"div",12),d.TgZ(1,"ion-item",13),d._UZ(2,"img",14),d.TgZ(3,"ion-label",15),d._uU(4),d.qZA(),d.qZA(),d.qZA()),2&i){const i=d.oxw(2);d.xp6(4),d.Oqu(i.time)}}function h(i,e){if(1&i){const i=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"img",17),d.NdJ("click",function(){d.CHM(i);const e=d.oxw(2);return e.showImage(e.questionImageUrl)}),d.qZA(),d.qZA()}if(2&i){const i=d.oxw(2);d.xp6(1),d.Q6J("src",i.questionImageUrl,d.LSH)}}function m(i,e){if(1&i&&(d.TgZ(0,"ion-card",18),d.TgZ(1,"video",19),d._UZ(2,"source",20),d.qZA(),d.qZA()),2&i){const i=d.oxw(2);d.xp6(1),d.s9C("poster",i.questionVideoThumbnail,d.LSH),d.xp6(1),d.Q6J("src",i.questionVideoUrl,d.LSH)}}function p(i,e){1&i&&d._UZ(0,"ion-icon",30)}function w(i,e){1&i&&d._UZ(0,"ion-icon",31)}function f(i,e){if(1&i){const i=d.EpF();d.TgZ(0,"ion-icon",32),d.NdJ("click",function(){d.CHM(i);const e=d.oxw().$implicit;return d.oxw(2).showVideo(e.video,e.videoThumbnail)}),d.qZA()}}const b=function(i){return{"green-border":i}},x=function(i){return{"red-border":i}},Z=function(i){return{"gray-border":i}};function q(i,e){if(1&i){const i=d.EpF();d.TgZ(0,"ion-row"),d.TgZ(1,"ion-col",21),d.TgZ(2,"div",22),d.TgZ(3,"div",22),d.TgZ(4,"div",22),d.TgZ(5,"ion-item"),d._UZ(6,"ion-radio",23),d.TgZ(7,"ion-label",24),d._uU(8),d.qZA(),d.YNc(9,p,1,0,"ion-icon",25),d.YNc(10,w,1,0,"ion-icon",26),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"ion-col",27),d.TgZ(12,"img",28),d.NdJ("click",function(){const e=d.CHM(i).$implicit;return d.oxw(2).showImage(e.image)}),d.qZA(),d.YNc(13,f,1,0,"ion-icon",29),d.TgZ(14,"img",28),d.NdJ("click",function(){const e=d.CHM(i).$implicit;return d.oxw(2).showVideo(e.video,e.videoThumbnail)}),d.qZA(),d.qZA(),d.qZA()}if(2&i){const i=e.$implicit,n=d.oxw(2);d.xp6(2),d.Q6J("ngClass",d.VKq(11,b,i.correct&&n.isSubmited&&i.answerId==n.answerId)),d.xp6(1),d.Q6J("ngClass",d.VKq(13,x,!i.correct&&n.isSubmited&&i.answerId==n.answerId)),d.xp6(1),d.Q6J("ngClass",d.VKq(15,Z,i.correct&&n.isSubmited&&i.answerId!=n.answerId)),d.xp6(2),d.s9C("value",i.answerId),d.Q6J("disabled",n.isSubmited),d.xp6(2),d.Oqu(i.answer),d.xp6(1),d.Q6J("ngIf",i.correct&&n.isSubmited&&i.answerId==n.answerId),d.xp6(1),d.Q6J("ngIf",!i.correct&&n.isSubmited&&i.answerId==n.answerId),d.xp6(2),d.Q6J("src",i.image,d.LSH),d.xp6(1),d.Q6J("ngIf",i.videoThumbnail),d.xp6(1),d.Q6J("src",i.videoThumbnail,d.LSH)}}function v(i,e){if(1&i){const i=d.EpF();d.TgZ(0,"div",33),d.TgZ(1,"ion-button",34),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).closeModal()}),d._uU(2," Submit"),d.qZA(),d.TgZ(3,"ion-button",35),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).next()}),d._uU(4,"Next"),d.qZA(),d.qZA()}if(2&i){const i=d.oxw(2);d.xp6(1),d.Q6J("disabled",0>=i.answerId),d.xp6(2),d.Q6J("disabled",0>=i.answerId)}}function I(i,e){if(1&i){const i=d.EpF();d.TgZ(0,"div",33),d.TgZ(1,"ion-button",36),d.NdJ("click",function(){return d.CHM(i),d.oxw(2).nextQuestion()}),d._uU(2,"Next"),d.qZA(),d.qZA()}}function T(i,e){if(1&i){const i=d.EpF();d.TgZ(0,"div",3),d.TgZ(1,"div",4),d.YNc(2,g,5,1,"div",5),d.YNc(3,h,2,1,"div",6),d.YNc(4,m,3,2,"ion-card",7),d.TgZ(5,"ion-list"),d.TgZ(6,"ion-radio-group",8),d.NdJ("ionChange",function(e){return d.CHM(i),d.oxw().selectedAnswer(e)}),d.TgZ(7,"ion-list-header"),d.TgZ(8,"ion-label",9),d._uU(9),d.qZA(),d.qZA(),d.TgZ(10,"ion-grid"),d.YNc(11,q,15,17,"ion-row",10),d.qZA(),d.qZA(),d.qZA(),d.YNc(12,v,5,2,"div",11),d.YNc(13,I,3,0,"div",11),d.qZA(),d.qZA()}if(2&i){const i=d.oxw();d.xp6(2),d.Q6J("ngIf",!i.isSubmited),d.xp6(1),d.Q6J("ngIf",""!=i.questionImageUrl),d.xp6(1),d.Q6J("ngIf",""!=i.questionVideoUrl),d.xp6(2),d.s9C("value",i.answerId),d.xp6(3),d.hij(" ",i.question," "),d.xp6(2),d.Q6J("ngForOf",i.answers),d.xp6(1),d.Q6J("ngIf",!i.isSubmited),d.xp6(1),d.Q6J("ngIf",i.isSubmited)}}const A=[{path:"",component:(()=>{class i{constructor(i,e,n,t,o){this.modalController=i,this.router=e,this.service=n,this.alertController=t,this.http=o,this.container=[],this.questionId="",this.questionNo="",this.question="",this.questionImageUrl="",this.questionVideoThumbnail="",this.questionVideoUrl="",this.answers=[],this.answerId=-1,this.continue=!1,this.time=30,this.isSubmited=!1}ngOnInit(){}ionViewWillEnter(){return(0,r.mG)(this,void 0,void 0,function*(){this.getQuestion()})}ionViewWillLeave(){clearInterval(this.interval),this.videoModal&&this.videoModal.dismiss(),this.imageModal&&this.imageModal.dismiss()}goHome(){this.router.navigateByUrl("/home",{replaceUrl:!0})}closeModal(){this.continue=!1,this.submitAnswer()}next(){this.continue=!0,this.submitAnswer()}startTimer(){clearInterval(this.interval),this.time=30,this.interval=setInterval(()=>{this.time>0?this.time--:(clearInterval(this.interval),this.answerId=-1,this.getQuestion())},1e3)}getQuestion(){let i=new a.WM({"Content-Type":"application/json"});this.http.post(this.service.baseURL+"getQuestion",JSON.stringify({game_category_id:this.service.gameCategoryId,user_id:this.service.userId}),i).subscribe(i=>{console.log("getQuestion",i),i.length?(this.container=i,this.questionId=this.container[0].questionId,this.questionNo=this.container[0].questionNo,this.question=this.container[0].question,this.questionImageUrl=this.container[0].questionImageUrl,this.questionVideoThumbnail=this.container[0].questionVideoThumbnail,this.questionVideoUrl=this.container[0].questionVideoUrl,this.answers=this.container[0].answers,this.startTimer()):this.alertEmpty()},i=>{this.alertEmpty(),console.log("Something went wrong!",i)})}showImage(i){return(0,r.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:c.Q,cssClass:"custom-modal",backdropDismiss:!1,componentProps:{url:i}}),yield this.imageModal.present()})}showVideo(i,e){return(0,r.mG)(this,void 0,void 0,function*(){this.videoModal=yield this.modalController.create({component:l.q,cssClass:"custom-modal",backdropDismiss:!1,componentProps:{url:i,thumbnail:e}}),yield this.videoModal.present()})}selectedAnswer(i){this.answerId=i.target.value}alertEmpty(){return(0,r.mG)(this,void 0,void 0,function*(){const i=yield this.alertController.create({cssClass:"my-custom-class",header:"Alert!",message:"No more questions available for now!",backdropDismiss:!1,buttons:[{text:"Okay",handler:()=>{this.router.navigateByUrl("/home")}}]});yield i.present()})}submitAnswer(){this.isSubmited=!0,console.log("user_id",this.service.userId,"question_id",this.questionId,"answer_id",this.answerId);let i=new a.WM({"Content-Type":"application/json"});this.http.post(this.service.baseURL+"saveUserAnswer",JSON.stringify({user_id:this.service.userId,question_id:this.questionId,answer_id:this.answerId}),i).subscribe(i=>{console.log("Answer submited",i)},i=>{this.answerId=-1,console.log("Something went wrong!",i)})}nextQuestion(){this.answerId=-1,this.container=[],this.isSubmited=!1,console.log("submitAnswer"),this.continue?this.getQuestion():this.goHome()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(o.IN),d.Y36(s.F0),d.Y36(u.K),d.Y36(o.Br),d.Y36(a.eN))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-modal-choose"]],decls:7,vars:2,consts:[["name","home-outline","slot","end",1,"btn-home",3,"click"],[1,"background-image"],["style","padding: 10px;",4,"ngIf"],[2,"padding","10px"],[1,"main-container"],["style","width: -webkit-fill-available;",4,"ngIf"],["style","margin: 10px;",4,"ngIf"],["style","margin: unset; padding: 5px;",4,"ngIf"],[3,"value","ionChange"],[2,"font-size","20px","padding","10px"],[4,"ngFor","ngForOf"],["class","btn-next-wrapper",4,"ngIf"],[2,"width","-webkit-fill-available"],[2,"float","right"],["src","../../assets/images/clock-smiling-face-animated-clipart.gif",2,"width","60px"],[2,"font-size","xx-large","min-width","40px"],[2,"margin","10px"],[3,"src","click"],[2,"margin","unset","padding","5px"],["playinline","","preload","auto","controls","","controlsList","nodownload",3,"poster"],["type","video/mp4",3,"src"],["size","9"],[3,"ngClass"],["slot","start",2,"--color-checked","#446d76",3,"disabled","value"],[2,"overflow-wrap","break-word","color","#446d76"],["name","checkmark-outline","style","color: darkgreen;",4,"ngIf"],["name","close-outline","style","color: red;",4,"ngIf"],["size","3"],[1,"thumbnail",3,"src","click"],["class","play-button","name","play-circle-outline","size","large",3,"click",4,"ngIf"],["name","checkmark-outline",2,"color","darkgreen"],["name","close-outline",2,"color","red"],["name","play-circle-outline","size","large",1,"play-button",3,"click"],[1,"btn-next-wrapper"],["shape","round","fill","outline",1,"btn-submit",2,"margin-right","20px",3,"disabled","click"],["shape","round",1,"btn-next",3,"disabled","click"],["shape","round",1,"btn-next",3,"click"]],template:function(i,e){1&i&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-title"),d._uU(3),d.qZA(),d.TgZ(4,"ion-icon",0),d.NdJ("click",function(){return e.goHome()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(5,"ion-content",1),d.YNc(6,T,14,8,"div",2),d.qZA()),2&i&&(d.xp6(3),d.hij("Question ",e.questionNo,""),d.xp6(3),d.Q6J("ngIf",e.container.length))},directives:[o.Gu,o.sr,o.wd,o.gu,o.W2,t.O5,o.q_,o.se,o.QI,o.yh,o.Q$,o.jY,t.sg,o.Ie,o.PM,o.Nd,o.wI,t.mk,o.B7,o.U5,o.YG],styles:[".close-wrapper[_ngcontent-%COMP%]{width:30px;text-align:left}video[_ngcontent-%COMP%]{max-width:100%;max-height:100%;display:inline-block;vertical-align:middle}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{border-radius:10px}.play-button[_ngcontent-%COMP%]{position:absolute;color:#fff;left:33%;top:14px}.main-container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden}.btn-home[_ngcontent-%COMP%]{margin-right:20px;font-size:x-large}.green-border[_ngcontent-%COMP%]{border:1px solid green}.red-border[_ngcontent-%COMP%]{border:1px solid red}.gray-border[_ngcontent-%COMP%]{border:1px solid gray}"]}),i})()}];let C=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[s.Bz.forChild(A)],s.Bz]}),i})(),k=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[t.ez,o.Pc,C]]}),i})()}}]);
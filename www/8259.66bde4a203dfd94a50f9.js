(self.webpackChunkLanka_Games=self.webpackChunkLanka_Games||[]).push([[8259],{8259:(t,e,n)=>{"use strict";n.r(e),n.d(e,{OtpPageModule:()=>T});var o=n(8583),i=n(665),s=n(7823),r=n(1348),l=n(1841),u=n(8720),p=n(1628),a=n(5921);const c=["otp1"],g=["otp2"],h=["otp3"],d=["otp4"];function f(t,e){1&t&&(u.TgZ(0,"ion-label",14),u._uU(1,"Otp not mached!"),u.qZA())}const Z=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.router=t,this.http=e,this.storage=n,this.service=o,this.isIncorrectOtp=!1,this.OTP={first:"",second:"",third:"",fourth:""},this.isValid=!1}ngOnInit(){}ionViewWillLeave(){this.reset()}reset(){this.otp1.value="",this.otp2.value="",this.otp3.value="",this.otp4.value="",this.isValid=!1}otpController(t,e,n){this.isIncorrectOtp=!1,t.target.value.length<1&&n?n.setFocus():e&&t.target.value.length>0?e.setFocus():console.log("full or empty"),this.isValid=!!(this.otp1.value&&this.otp2.value&&this.otp3.value&&this.otp4.value)}next(){console.log("otp ",this.otp1.value+this.otp2.value+this.otp3.value+this.otp4.value),this.service.userPhone="0771234567",this.storage.set("phone","0771234567"),this.loadApp()}loadApp(){let t=new l.WM({"Content-Type":"application/json"});this.http.post(this.service.baseURL+"Loading",JSON.stringify({phone:this.service.userPhone}),t).subscribe(t=>{console.log("Login",t),this.service.userId=t.user_id,this.service.language=t.language,this.router.navigateByUrl("/home")},t=>{console.log("Something went wrong!",t)})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.F0),u.Y36(l.eN),u.Y36(p.K),u.Y36(a.K))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-otp"]],viewQuery:function(t,e){if(1&t&&(u.Gf(c,5),u.Gf(g,5),u.Gf(h,5),u.Gf(d,5)),2&t){let t;u.iGM(t=u.CRH())&&(e.otp1=t.first),u.iGM(t=u.CRH())&&(e.otp2=t.first),u.iGM(t=u.CRH())&&(e.otp3=t.first),u.iGM(t=u.CRH())&&(e.otp4=t.first)}},decls:30,vars:6,consts:[["fullscreen","true",1,"background-image-light"],[2,"width","-webkit-fill-available","text-align","center"],["src","../../assets/images/Lanka Games Icon.png",2,"width","80%"],[2,"text-align","center"],[1,"topics"],["type","tel","required","true","maxLength","1",1,"x",2,"color","#3b1600",3,"ngModel","ngModelChange","keyup"],["otp1",""],["otp2",""],["otp3",""],["otp4",""],["color","danger",4,"ngIf"],[2,"margin-top","20px","text-align","center","width","100%"],["shape","round","fill","outline",1,"btn-submit",2,"margin-right","20px",3,"click"],["shape","round",1,"btn-next",3,"disabled","click"],["color","danger"]],template:function(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-content",0),u.TgZ(1,"div"),u.TgZ(2,"div",1),u._UZ(3,"img",2),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"div"),u.TgZ(6,"ion-label",4),u.TgZ(7,"h1"),u._uU(8,"Please enter"),u._UZ(9,"br"),u._uU(10," OTP "),u._UZ(11,"br"),u._uU(12," sent to your phone"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div"),u.TgZ(14,"ion-row"),u.TgZ(15,"ion-col"),u.TgZ(16,"ion-input",5,6),u.NdJ("ngModelChange",function(t){return e.OTP.first=t})("keyup",function(n){u.CHM(t);const o=u.MAs(19);return e.otpController(n,o,"")}),u.qZA(),u.TgZ(18,"ion-input",5,7),u.NdJ("ngModelChange",function(t){return e.OTP.second=t})("keyup",function(n){u.CHM(t);const o=u.MAs(21),i=u.MAs(17);return e.otpController(n,o,i)}),u.qZA(),u.TgZ(20,"ion-input",5,8),u.NdJ("ngModelChange",function(t){return e.OTP.third=t})("keyup",function(n){u.CHM(t);const o=u.MAs(23),i=u.MAs(19);return e.otpController(n,o,i)}),u.qZA(),u.TgZ(22,"ion-input",5,9),u.NdJ("ngModelChange",function(t){return e.OTP.fourth=t})("keyup",function(n){u.CHM(t);const o=u.MAs(21);return e.otpController(n,"",o)}),u.qZA(),u.qZA(),u.qZA(),u.YNc(24,f,2,0,"ion-label",10),u.qZA(),u.TgZ(25,"div",11),u.TgZ(26,"ion-button",12),u.NdJ("click",function(){return e.reset()}),u._uU(27,"Reset"),u.qZA(),u.TgZ(28,"ion-button",13),u.NdJ("click",function(){return e.next()}),u._uU(29,"Confirm"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(16),u.Q6J("ngModel",e.OTP.first),u.xp6(2),u.Q6J("ngModel",e.OTP.second),u.xp6(2),u.Q6J("ngModel",e.OTP.third),u.xp6(2),u.Q6J("ngModel",e.OTP.fourth),u.xp6(2),u.Q6J("ngIf",e.isIncorrectOtp),u.xp6(4),u.Q6J("disabled",!e.isValid))},directives:[s.W2,s.Q$,s.Nd,s.wI,s.pK,s.j9,i.Q7,i.JJ,i.On,o.O5,s.YG],styles:[".x[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;margin:10px;border-radius:25%;--background:#fff;--padding-start:7px;font-size:x-large;border:1px solid green}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[r.Bz.forChild(Z)],r.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[o.ez,i.u5,s.Pc,v]]}),t})()}}]);